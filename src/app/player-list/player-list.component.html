<ng-container *ngIf="this.game$ | async as game">
  <div
    class="player-card"
    *ngFor="let score of game.sortedTotalScores; index as i"
    [ngClass]="getPlayerCardClass(score.player)"
  >
    <div class="top-row">
      <div class="place">{{ i + 1 }}</div>
      <div class="player-name">
        {{ score.player.name }} <br />
        {{ score.score }}
      </div>
    </div>
    <div class="bid-box">
      <span *ngIf="game.status === 'LOBBY'" class="lobby">
        ðŸ˜´ Waiting for game to start
      </span>
      <ng-container *ngIf="game.status === 'BRAIN_QUESTIONS'">
        <ng-container
          *ngIf="
            game.playerHasAnsweredAllBrainQuestions(score.player.id);
            else answering
          "
        >
          Waiting...
        </ng-container>
      </ng-container>
      <ng-container *ngIf="game.status === 'GAME_LOOP'">
        <span
          class="brain-emoji"
          *ngIf="game.isPlayerBrain(score.player.id); else notBrain"
        >
          ðŸ§ 
        </span>
        <ng-template #notBrain>
          <ng-container
            *ngIf="
              game.playerHasAnsweredCurrentQuestion(score.player.id);
              else answering
            "
          >
            Waiting...
          </ng-container>
        </ng-template>
      </ng-container>
    </div>
  </div>
</ng-container>

<ng-template #answering>
  Thinking...
</ng-template>
<!-- <span *ngIf="this.sleep$ | async as sleep">hi {{ sleep }}</span> -->
