<span *ngIf="$game | async as rawGame; else loading">
  <span *ngIf="rawGame.status === 'LOBBY'">
    <app-join-game-form
      *ngIf="!hasPlayerJoined; else lobby"
    ></app-join-game-form>
    <ng-template #lobby>
      Lobby
      <app-player-list [players]="rawGame.players"></app-player-list>
      <button *ngIf="canPlayerStartGame" class="button" (click)="startLobby()">
        Start Game
      </button>
    </ng-template>
    {{ rawGame.status }}
    {{ rawGame | json }}
  </span>
</span>

<ng-template #loading>
  Loading...
</ng-template>
